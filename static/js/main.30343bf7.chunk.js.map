{"version":3,"sources":["components/main/song list/song-list.module.scss","components/main/main.module.scss","components/main/logo header/logo-header.module.scss","components/main/logo header/logo-header-index.tsx","config.ts","apiService.ts","components/main/song list/song list item/song-list-item-index.tsx","components/main/song list/song-list-index.tsx","components/main/main-index.tsx","App.tsx","reportWebVitals.ts","index.tsx","components/main/song list/song list item/song-list-item.module.scss"],"names":["module","exports","LogoHeader","playing","className","styles","dotenv","config","apiKey","process","apiBaseUrl","apiSongUrl","apiLikeUrl","apiLikeQueryUrl","encodeURIComponent","apiHelper","fetcher","a","errorMsg","response","ok","json","parsedResponse","Error","getSongs","fetch","postLike","songId","method","headers","body","SongListItem","song","togglePlay","isPlaying","useState","liked","setLiked","id","src","cover_image_path","alt","name","artist","onClick","aria-label","music_file_path","React","memo","SongList","songPlaying","songList","setSongList","useEffect","asyncSongFetcher","length","color","map","songItem","audioPlayer","Audio","Main","setSongPlaying","fileUrl","pause","play","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.30343bf7.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"song-list-container\":\"song-list_song-list-container__1wzZa\",\"loading\":\"song-list_loading__2t7xg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main-container\":\"main_main-container__15OD4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"logo-header-container\":\"logo-header_logo-header-container__2zi4m\",\"loudly-container\":\"logo-header_loudly-container__2YGmQ\",\"pickup\":\"logo-header_pickup__3c2K6\",\"L\":\"logo-header_L__31ret\",\"udly\":\"logo-header_udly__1ttpU\",\"L-vertical\":\"logo-header_L-vertical__2n5ju\",\"L-playing\":\"logo-header_L-playing__3AhRv\",\"L-horizontal\":\"logo-header_L-horizontal__P4Dyg\",\"O\":\"logo-header_O__3yOCd\",\"discRotate\":\"logo-header_discRotate__2kBOw\",\"O-wrapper\":\"logo-header_O-wrapper__3mpL7\",\"line\":\"logo-header_line__3MK0c\",\"O-playing\":\"logo-header_O-playing__1p7-d\",\"O-outer\":\"logo-header_O-outer__2hX9V\",\"O-inner\":\"logo-header_O-inner__1Qz2V\"};","import styles from './logo-header.module.scss';\n\nexport interface Props {\n  playing: boolean;\n}\n\nconst LogoHeader: React.FC<Props> = ({ playing }) => {\n  return (\n    <div className={styles['logo-header-container']}>\n      <div className={styles['loudly-container']}>\n        <div className={styles['pickup']}>\n          <div className={styles['L']}>\n            <div className={`${styles['L-vertical']} ${playing ? styles['L-playing'] : ''}`}>\n              <div className={styles['L-horizontal']}></div>\n            </div>\n          </div>\n\n          <div className={`${styles['O']} ${playing ? styles['O-playing'] : ''}`}>\n            <div className={styles['O-outer']}>\n              <div className={styles['line']}></div>\n              <div className={styles['O-inner']}></div>\n            </div>\n          </div>\n        </div>\n\n        <p className={styles['udly']}>UDLY</p>\n\n      </div>\n    </div>\n  );\n};\n\nexport default LogoHeader;","import dotenv from 'dotenv';\ndotenv.config();\n\nconst config: {[indexer: string]: string} = {\n  apiKey: process.env.REACT_APP_API_KEY!,\n  apiBaseUrl: process.env.REACT_APP_API_BASE_URL!,\n  apiSongUrl: process.env.REACT_APP_API_SONG_URL!,\n  apiLikeUrl: process.env.REACT_APP_API_LIKE_URL!\n};\nconfig.apiLikeQueryUrl = config.apiBaseUrl + config.apiLikeUrl + '?apikey=' + encodeURIComponent(config.apiKey);\n\nexport default config;","import config from 'config';\n\nconst apiHelper = async (fetcher: () => Promise<Response>, errorMsg: string = 'An error ocurred in API request.') => {\n  const response = await fetcher();\n  if (response.ok) {\n    const parsedResponse = await response.json();\n    return parsedResponse;\n  } else {\n    throw new Error(errorMsg);\n  }\n};\n\nexport const getSongs = async () => {\n  return await (apiHelper(() => fetch(config.apiBaseUrl + config.apiSongUrl), 'Api get request to fetch songs failed.'));\n};\n\nexport const postLike = async (songId: string) => {\n  return await (apiHelper(() =>\n    fetch(config.apiLikeQueryUrl, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      },\n      body: 'id=' + songId\n    }), 'Api post request to like a song failed.'));\n};","import styles from './song-list-item.module.scss';\nimport { Song } from 'interfaces/interfaces';\nimport React, { useState } from 'react';\nimport { postLike } from 'apiService';\n\nexport interface Props {\n  song: Song;\n  togglePlay: (songId: string, fileUrl: string) => void;\n  isPlaying: boolean;\n}\n\nconst SongListItem: React.FC<Props> = ({ song, togglePlay, isPlaying }) => {\n  let [liked, setLiked] = useState<boolean>(false);\n\n  async function likeHandler () {\n    if (!liked) postLike(song.id);\n    setLiked(liked => !liked);\n  }\n\n  return (\n    <div className={styles['song-list-item-container']}>\n      <img src={song.cover_image_path} alt={song.name + ' song cover'} className={styles['song-img']} />\n      <div className={styles['song-details']}>\n        <p className={styles['song-name']}>{song.name}</p>\n        <p className={styles['artist-name']}>{song.artist.name}</p>\n      </div>\n      <div className={styles['buttons']}>\n        <button onClick={likeHandler} aria-label='like'>\n          {liked ? <i className={'fas fa-lg fa-heart ' + styles['liked']}></i> : <i className='far fa-lg fa-heart'></i>}\n        </button>\n        <button onClick={() => togglePlay(song.id, song.music_file_path)} aria-label='play-pause'>\n          {isPlaying ? <i className=\"fas fa-lg fa-pause\"></i> : <i className=\"fas   fa-lg fa-play\"></i>}\n        </button>\n      </div>\n      <div className={styles['half-border']}></div>\n    </div>\n  );\n};\n\nexport default React.memo(SongListItem);","import React, { useState, useEffect } from 'react';\nimport { Song } from 'interfaces/interfaces';\nimport { getSongs } from 'apiService';\nimport { CircleSpinner } from 'react-spinners-kit';\nimport styles from './song-list.module.scss';\nimport SongListItem from './song list item/song-list-item-index';\n\nexport interface Props {\n  togglePlay: (songId: string, fileUrl: string) => void;\n  songPlaying: string;\n}\n\nconst SongList: React.FC<Props> = ({ togglePlay, songPlaying }) => {\n  let [songList, setSongList] = useState<Song[]>([]);\n\n  useEffect(() => {\n    const asyncSongFetcher = async () => {\n      const songList = await getSongs();\n      setSongList(songList);\n    };\n\n    asyncSongFetcher();\n  }, []);\n\n  return (\n    <div className={styles['song-list-container']}>\n      <h1>Song List</h1>\n      {songList.length === 0 ? <div className={styles['loading']}><CircleSpinner color='#17adb3'/></div> :\n        songList.map(songItem =>\n          <SongListItem\n            key={songItem.id}\n            song={songItem}\n            togglePlay={togglePlay}\n            isPlaying={songItem.id === songPlaying}\n          />)}\n    </div>\n  );\n};\n\nexport default SongList;","import React, { useState } from 'react';\nimport LogoHeader from './logo header/logo-header-index';\nimport SongList from './song list/song-list-index';\nimport styles from './main.module.scss';\nconst audioPlayer = new Audio();\n\nconst Main: React.FC = () => {\n  let [songPlaying, setSongPlaying] = useState<string>('');\n\n  function togglePlay (songId: string, fileUrl: string) {\n    audioPlayer.pause();\n    if (songId === songPlaying) {\n      setSongPlaying('');\n    } else {\n      setSongPlaying(songId);\n      audioPlayer.src = fileUrl;\n      audioPlayer.play();\n    }\n  }\n\n  return (\n    <div className={styles['main-container']}>\n      <LogoHeader playing={songPlaying ? true : false}/>\n      <SongList togglePlay={togglePlay} songPlaying={songPlaying}/>\n    </div>\n  );\n};\n\nexport default Main;","import './App.css';\nimport Main from './components/main/main-index';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Main/>\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"song-list-item-container\":\"song-list-item_song-list-item-container__qDB5-\",\"fadeIn\":\"song-list-item_fadeIn__2WP0i\",\"song-img\":\"song-list-item_song-img__32kiR\",\"song-details\":\"song-list-item_song-details__1JDs_\",\"song-name\":\"song-list-item_song-name__1qS_R\",\"buttons\":\"song-list-item_buttons__1QcFz\",\"half-border\":\"song-list-item_half-border__z9gAC\",\"liked\":\"song-list-item_liked__3cP-m\",\"heartbeat\":\"song-list-item_heartbeat__1xfb6\"};"],"sourceRoot":""}