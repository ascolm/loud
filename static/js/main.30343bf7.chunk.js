(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{12:function(e,n,t){e.exports={"song-list-container":"song-list_song-list-container__1wzZa",loading:"song-list_loading__2t7xg"}},19:function(e,n,t){e.exports={"main-container":"main_main-container__15OD4"}},2:function(e,n,t){e.exports={"logo-header-container":"logo-header_logo-header-container__2zi4m","loudly-container":"logo-header_loudly-container__2YGmQ",pickup:"logo-header_pickup__3c2K6",L:"logo-header_L__31ret",udly:"logo-header_udly__1ttpU","L-vertical":"logo-header_L-vertical__2n5ju","L-playing":"logo-header_L-playing__3AhRv","L-horizontal":"logo-header_L-horizontal__P4Dyg",O:"logo-header_O__3yOCd",discRotate:"logo-header_discRotate__2kBOw","O-wrapper":"logo-header_O-wrapper__3mpL7",line:"logo-header_line__3MK0c","O-playing":"logo-header_O-playing__1p7-d","O-outer":"logo-header_O-outer__2hX9V","O-inner":"logo-header_O-inner__1Qz2V"}},26:function(e,n,t){},27:function(e,n,t){},38:function(e,n,t){"use strict";t.r(n);var a=t(1),r=t.n(a),i=t(14),s=t.n(i),c=(t(26),t(27),t(6)),o=t(2),l=t.n(o),u=t(0),d=function(e){var n=e.playing;return Object(u.jsx)("div",{className:l.a["logo-header-container"],children:Object(u.jsxs)("div",{className:l.a["loudly-container"],children:[Object(u.jsxs)("div",{className:l.a.pickup,children:[Object(u.jsx)("div",{className:l.a.L,children:Object(u.jsx)("div",{className:"".concat(l.a["L-vertical"]," ").concat(n?l.a["L-playing"]:""),children:Object(u.jsx)("div",{className:l.a["L-horizontal"]})})}),Object(u.jsx)("div",{className:"".concat(l.a.O," ").concat(n?l.a["O-playing"]:""),children:Object(u.jsxs)("div",{className:l.a["O-outer"],children:[Object(u.jsx)("div",{className:l.a.line}),Object(u.jsx)("div",{className:l.a["O-inner"]})]})})]}),Object(u.jsx)("p",{className:l.a.udly,children:"UDLY"})]})})},g=t(3),p=t.n(g),_=t(5),j=t(15);t.n(j).a.config();var h={apiKey:"___agAFTxkmMIWsmN9zOpM_6l2SkZPPy21LGRlxhYD8",apiBaseUrl:"https://api-stg.jam-community.com",apiSongUrl:"/song/trending",apiLikeUrl:"/interact/like"};h.apiLikeQueryUrl=h.apiBaseUrl+h.apiLikeUrl+"?apikey="+encodeURIComponent(h.apiKey);var m=h,f=function(){var e=Object(_.a)(p.a.mark((function e(n){var t,a,r,i=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>1&&void 0!==i[1]?i[1]:"An error ocurred in API request.",e.next=3,n();case 3:if(!(a=e.sent).ok){e.next=11;break}return e.next=7,a.json();case 7:return r=e.sent,e.abrupt("return",r);case 11:throw new Error(t);case 12:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),b=function(){var e=Object(_.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f((function(){return fetch(m.apiBaseUrl+m.apiSongUrl)}),"Api get request to fetch songs failed.");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(_.a)(p.a.mark((function e(n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f((function(){return fetch(m.apiLikeQueryUrl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"id="+n})}),"Api post request to like a song failed.");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),x=t(16),v=t(12),y=t.n(v),k=t(4),N=t.n(k),w=function(e){var n=e.song,t=e.togglePlay,r=e.isPlaying,i=Object(a.useState)(!1),s=Object(c.a)(i,2),o=s[0],l=s[1];function d(){return(d=Object(_.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o||O(n.id),l((function(e){return!e}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(u.jsxs)("div",{className:N.a["song-list-item-container"],children:[Object(u.jsx)("img",{src:n.cover_image_path,alt:n.name+" song cover",className:N.a["song-img"]}),Object(u.jsxs)("div",{className:N.a["song-details"],children:[Object(u.jsx)("p",{className:N.a["song-name"],children:n.name}),Object(u.jsx)("p",{className:N.a["artist-name"],children:n.artist.name})]}),Object(u.jsxs)("div",{className:N.a.buttons,children:[Object(u.jsx)("button",{onClick:function(){return d.apply(this,arguments)},"aria-label":"like",children:o?Object(u.jsx)("i",{className:"fas fa-lg fa-heart "+N.a.liked}):Object(u.jsx)("i",{className:"far fa-lg fa-heart"})}),Object(u.jsx)("button",{onClick:function(){return t(n.id,n.music_file_path)},"aria-label":"play-pause",children:r?Object(u.jsx)("i",{className:"fas fa-lg fa-pause"}):Object(u.jsx)("i",{className:"fas   fa-lg fa-play"})})]}),Object(u.jsx)("div",{className:N.a["half-border"]})]})},L=r.a.memo(w),P=function(e){var n=e.togglePlay,t=e.songPlaying,r=Object(a.useState)([]),i=Object(c.a)(r,2),s=i[0],o=i[1];return Object(a.useEffect)((function(){(function(){var e=Object(_.a)(p.a.mark((function e(){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:n=e.sent,o(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(u.jsxs)("div",{className:y.a["song-list-container"],children:[Object(u.jsx)("h1",{children:"Song List"}),0===s.length?Object(u.jsx)("div",{className:y.a.loading,children:Object(u.jsx)(x.CircleSpinner,{color:"#17adb3"})}):s.map((function(e){return Object(u.jsx)(L,{song:e,togglePlay:n,isPlaying:e.id===t},e.id)}))]})},S=t(19),U=t.n(S),C=new Audio,z=function(){var e=Object(a.useState)(""),n=Object(c.a)(e,2),t=n[0],r=n[1];return Object(u.jsxs)("div",{className:U.a["main-container"],children:[Object(u.jsx)(d,{playing:!!t}),Object(u.jsx)(P,{togglePlay:function(e,n){C.pause(),e===t?r(""):(r(e),C.src=n,C.play())},songPlaying:t})]})};var A=function(){return Object(u.jsx)("div",{className:"App",children:Object(u.jsx)(z,{})})},B=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,39)).then((function(n){var t=n.getCLS,a=n.getFID,r=n.getFCP,i=n.getLCP,s=n.getTTFB;t(e),a(e),r(e),i(e),s(e)}))};s.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(A,{})}),document.getElementById("root")),B()},4:function(e,n,t){e.exports={"song-list-item-container":"song-list-item_song-list-item-container__qDB5-",fadeIn:"song-list-item_fadeIn__2WP0i","song-img":"song-list-item_song-img__32kiR","song-details":"song-list-item_song-details__1JDs_","song-name":"song-list-item_song-name__1qS_R",buttons:"song-list-item_buttons__1QcFz","half-border":"song-list-item_half-border__z9gAC",liked:"song-list-item_liked__3cP-m",heartbeat:"song-list-item_heartbeat__1xfb6"}}},[[38,1,2]]]);
//# sourceMappingURL=main.30343bf7.chunk.js.map